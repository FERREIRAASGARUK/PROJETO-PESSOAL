{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/marcos/\\xC1rea de Trabalho/World Products/World Products/src/components/Form Promo/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, createContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport Typography from '@material-ui/core/Typography';\nimport { AddToHomeScreen, AddPhotoAlternate, AddShoppingCart, Title, MonetizationOn } from '@material-ui/icons';\nimport { Button, Snackbar, Container, Avatar } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport api from '../../Services/cardServer';\nimport classe from './style';\nimport Header from '../Header/header';\n\nconst Formulario = () => {\n  _s();\n\n  const classes = classe();\n\n  function Alert(props) {\n    return /*#__PURE__*/_jsxDEV(MuiAlert, {\n      elevation: 6,\n      variant: \"filled\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 12\n    }, this);\n  }\n\n  const [Aberto, setAberto] = useState();\n  const vertical = 'top';\n  const horizontal = 'left';\n  const [Msg, setMsg] = useState();\n  const [retorno, setRetorno] = useState();\n\n  function abrir() {\n    setAberto(true);\n  }\n\n  function fechar() {\n    setAberto(false);\n  }\n\n  const formik = useFormik({\n    initialValues: {\n      title: '',\n      price: '',\n      imageUrl: '',\n      url: ''\n    },\n    validationSchema: Yup.object({\n      title: Yup.string().min(10, /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: \"digite no m\\xEDnimo 10 caract\\xE9res\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)).max(200, /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: \"digite no m\\xE1ximo 50 caract\\xE9res\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)).required( /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: \"Este campo n\\xE3o pode ficar vazio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)),\n      price: Yup.string().required( /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: \"Este campo n\\xE3o pode estar vazio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)),\n      imageUrl: Yup.string().url( /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: \"Use um link v\\xE1lido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 14\n      }, this)).required( /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: \"Este campo n\\xE3o pode estar vazio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)),\n      url: Yup.string().required( /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: \"Este campo n\\xE3o pode estar vazio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)).url( /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: \"Use um link v\\xE1lido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 14\n      }, this))\n    }),\n    onSubmit: async values => {\n      const dataStr = localStorage.getItem('login');\n      const data = JSON.parse(dataStr);\n      let email;\n      email = data.email;\n      let msg;\n      let ret;\n      const datas = await api.get('/promotions');\n      const promo = datas.data;\n      const prod = promo.filter(e => e.imageUrl === values.imageUrl);\n\n      async function verificar() {\n        if (prod.length === 0) {\n          await api.post('/promotions', { ...values,\n            quantidade: 1,\n            usuario: email\n          });\n          msg = 'Produto cadastrado';\n          ret = 'success';\n        } else {\n          msg = 'Produto já cadastrado use outra imagem!';\n          ret = 'error';\n        }\n\n        setMsg(msg);\n        setRetorno(ret);\n      }\n\n      verificar();\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical,\n        horizontal\n      },\n      open: Aberto,\n      onClose: fechar,\n      autoHideDuration: 5000,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: retorno,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: Msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.paper,\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          className: classes.imagem,\n          children: /*#__PURE__*/_jsxDEV(AddShoppingCart, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: classes.title,\n          children: \"CADASTRE SEUS PRODUTOS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: formik.handleSubmit,\n          className: classes.form,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            placeholder: \"T\\xEDtulo ou descri\\xE7\\xE3o \",\n            variant: \"outlined\",\n            label: \"Descri\\xE7\\xE3o/title\",\n            required: true,\n            id: \"title\",\n            type: \"text\",\n            name: \"title\",\n            autoFocus: true,\n            fullWidth: true,\n            margin: \"normal\",\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                className: classes.adorno,\n                children: /*#__PURE__*/_jsxDEV(Title, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this)\n            },\n            onChange: formik.handleChange,\n            onBlur: formik.handleBlur,\n            value: formik.values.title,\n            className: classes.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), formik.touched.title && formik.errors.title ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: formik.errors.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            placeholder: \"Digite o pre\\xE7o do produto\",\n            variant: \"outlined\",\n            label: \"pre\\xE7o\",\n            required: true,\n            id: \"price\",\n            type: \"number\",\n            name: \"price\",\n            fullWidth: true,\n            autoFocus: true,\n            margin: \"normal\",\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                className: classes.adorno,\n                children: /*#__PURE__*/_jsxDEV(MonetizationOn, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)\n            },\n            onChange: formik.handleChange,\n            onBlur: formik.handleBlur,\n            value: formik.values.price,\n            className: classes.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), formik.touched.price && formik.errors.price ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: formik.errors.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            placeholder: \"coloque o link da imageUrl\",\n            variant: \"outlined\",\n            label: \"imageUrl\",\n            required: true,\n            id: \"url\",\n            type: \"url\",\n            name: \"imageUrl\",\n            fullWidth: true,\n            autoFocus: true,\n            margin: \"normal\",\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                className: classes.adorno,\n                children: /*#__PURE__*/_jsxDEV(AddPhotoAlternate, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this)\n            },\n            onChange: formik.handleChange,\n            onBlur: formik.handleBlur,\n            value: formik.values.imageUrl,\n            className: classes.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), formik.touched.imageUrl && formik.errors.imageUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: formik.errors.imageUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            placeholder: \"Digite/cole o link do site \",\n            variant: \"outlined\",\n            label: \"Url\",\n            required: true,\n            id: \"Url\",\n            type: \"url\",\n            name: \"url\",\n            fullWidth: true,\n            autoFocus: true,\n            margin: \"normal\",\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                className: classes.adorno,\n                children: /*#__PURE__*/_jsxDEV(AddToHomeScreen, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this)\n            },\n            onChange: formik.handleChange,\n            onBlur: formik.handleBlur,\n            value: formik.values.url,\n            className: classes.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), formik.touched.url && formik.errors.url ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: formik.errors.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            color: \"secondary\",\n            className: classes.btn,\n            onClick: () => abrir(true),\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Formulario, \"vReaPwqDMLHq3gT0GKDYFhwlRA4=\", false, function () {\n  return [useFormik];\n});\n\n_c = Formulario;\nexport default Formulario;\n\nvar _c;\n\n$RefreshReg$(_c, \"Formulario\");","map":{"version":3,"sources":["/home/marcos/Área de Trabalho/World Products/World Products/src/components/Form Promo/index.js"],"names":["React","useState","useContext","createContext","Link","useHistory","TextField","InputAdornment","AccountCircle","useFormik","Yup","Typography","AddToHomeScreen","AddPhotoAlternate","AddShoppingCart","Title","MonetizationOn","Button","Snackbar","Container","Avatar","Grid","MuiAlert","api","classe","Header","Formulario","classes","Alert","props","Aberto","setAberto","vertical","horizontal","Msg","setMsg","retorno","setRetorno","abrir","fechar","formik","initialValues","title","price","imageUrl","url","validationSchema","object","string","min","max","required","onSubmit","values","dataStr","localStorage","getItem","data","JSON","parse","email","msg","ret","datas","get","promo","prod","filter","e","verificar","length","post","quantidade","usuario","paper","imagem","handleSubmit","form","startAdornment","adorno","handleChange","handleBlur","input","touched","errors","btn"],"mappings":"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","sourcesContent":["import React, { useState, useContext, createContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport Typography from '@material-ui/core/Typography';\nimport {\n  AddToHomeScreen,\n  AddPhotoAlternate,\n  AddShoppingCart,\n  Title,\n  MonetizationOn,\n} from '@material-ui/icons';\nimport { Button, Snackbar, Container, Avatar } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport api from '../../Services/cardServer';\nimport classe from './style';\nimport Header from '../Header/header';\n\nconst Formulario = () => {\n  const classes = classe();\n\n  function Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n\n  const [Aberto, setAberto] = useState();\n  const vertical = 'top';\n  const horizontal = 'left';\n  const [Msg, setMsg] = useState();\n  const [retorno, setRetorno] = useState();\n\n  function abrir() {\n    setAberto(true);\n  }\n  function fechar() {\n    setAberto(false);\n  }\n\n  const formik = useFormik({\n    initialValues: {\n      title: '',\n      price: '',\n      imageUrl: '',\n      url: '',\n    },\n\n    validationSchema: Yup.object({\n      title: Yup.string()\n        .min(\n          10,\n        <Typography color=\"error\">digite no mínimo 10 caractéres</Typography>\n        )\n        .max(\n          200,\n        <Typography color=\"error\">digite no máximo 50 caractéres</Typography>\n        )\n        .required(\n          <Typography color=\"error\">Este campo não pode ficar vazio</Typography>\n        ),\n\n      price: Yup.string().required(\n        <Typography color=\"error\">Este campo não pode estar vazio</Typography>\n      ),\n\n      imageUrl: Yup.string()\n        .url(<Typography color=\"error\">Use um link válido</Typography>)\n        .required(\n          <Typography color=\"error\">Este campo não pode estar vazio</Typography>\n        ),\n\n      url: Yup.string()\n        .required(\n          <Typography color=\"error\">Este campo não pode estar vazio</Typography>\n        )\n        .url(<Typography color=\"error\">Use um link válido</Typography>),\n    }),\n\n    onSubmit: async (values) => {\n      const dataStr = localStorage.getItem('login');\n      const data = JSON.parse(dataStr);\n\n      let email;\n      email = data.email;\n\n      let msg;\n      let ret;\n      const datas = await api.get('/promotions');\n      const promo = datas.data;\n      const prod = promo.filter((e) => e.imageUrl === values.imageUrl);\n       \n      async function verificar() {\n        if (prod.length === 0) {\n          await api.post('/promotions', { ...values, quantidade: 1, usuario: email });\n          msg = 'Produto cadastrado';\n          ret = 'success';\n        } else {\n          msg = 'Produto já cadastrado use outra imagem!';\n          ret = 'error';\n        }\n        setMsg(msg);\n        setRetorno(ret);\n      }\n\n      verificar();\n    },\n  });\n\n  return (\n    <div>\n      <Header />\n      <Snackbar\n        anchorOrigin={{ vertical, horizontal }}\n        open={Aberto}\n        onClose={fechar}\n        autoHideDuration={5000}\n      >\n        <Alert severity={retorno}>\n          <div>{Msg}</div>\n        </Alert>\n      </Snackbar>\n      <Container component=\"main\" maxWidth=\"sm\">\n        <div className={classes.paper}>\n          <Avatar className={classes.imagem}>\n            <AddShoppingCart />\n          </Avatar>\n          <h1 className={classes.title}>CADASTRE SEUS PRODUTOS</h1>\n          <form onSubmit={formik.handleSubmit} className={classes.form}>\n            <TextField\n              placeholder=\"Título ou descrição \"\n              variant=\"outlined\"\n              label=\"Descrição/title\"\n              required\n              id=\"title\"\n              type=\"text\"\n              name=\"title\"\n              autoFocus\n              fullWidth\n              margin=\"normal\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment className={classes.adorno}>\n                    <Title />\n                  </InputAdornment>\n                ),\n              }}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              value={formik.values.title}\n              className={classes.input}\n            />\n\n            {formik.touched.title && formik.errors.title ? (\n              <div>{formik.errors.title}</div>\n            ) : null}\n            <div className={classes.input} />\n\n            <TextField\n              placeholder=\"Digite o preço do produto\"\n              variant=\"outlined\"\n              label=\"preço\"\n              required\n              id=\"price\"\n              type=\"number\"\n              name=\"price\"\n              fullWidth\n              autoFocus\n              margin=\"normal\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment className={classes.adorno}>\n                    <MonetizationOn />\n                  </InputAdornment>\n                ),\n              }}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              value={formik.values.price}\n              className={classes.input}\n            />\n\n            {formik.touched.price && formik.errors.price ? (\n              <div>{formik.errors.price}</div>\n            ) : null}\n\n            <div className={classes.input} />\n\n            <TextField\n              placeholder=\"coloque o link da imageUrl\"\n              variant=\"outlined\"\n              label=\"imageUrl\"\n              required\n              id=\"url\"\n              type=\"url\"\n              name=\"imageUrl\"\n              fullWidth\n              autoFocus\n              margin=\"normal\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment className={classes.adorno}>\n                    <AddPhotoAlternate />\n                  </InputAdornment>\n                ),\n              }}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              value={formik.values.imageUrl}\n              className={classes.input}\n            />\n            {formik.touched.imageUrl && formik.errors.imageUrl ? (\n              <div>{formik.errors.imageUrl}</div>\n            ) : null}\n\n            <div className={classes.input} />\n\n            <TextField\n              placeholder=\"Digite/cole o link do site \"\n              variant=\"outlined\"\n              label=\"Url\"\n              required\n              id=\"Url\"\n              type=\"url\"\n              name=\"url\"\n              fullWidth\n              autoFocus\n              margin=\"normal\"\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment className={classes.adorno}>\n                    <AddToHomeScreen />\n                  </InputAdornment>\n                ),\n              }}\n              onChange={formik.handleChange}\n              onBlur={formik.handleBlur}\n              value={formik.values.url}\n              className={classes.input}\n            />\n\n            {formik.touched.url && formik.errors.url ? (\n              <div>{formik.errors.url}</div>\n            ) : null}\n\n            <div className={classes.input} />\n\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"secondary\"\n              className={classes.btn}\n              onClick={() => abrir(true)}\n            >\n              Salvar\n            </Button>\n          </form>\n        </div>\n      </Container>\n    </div>\n  );\n};\n\nexport default Formulario;\n"]},"metadata":{},"sourceType":"module"}